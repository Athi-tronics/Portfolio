s<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Athenkosi Hlonyane — Engineering Portfolio</title>
  <!-- Google Fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;600;700&family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
  <style>
    :root {
      --font-serif: 'Playfair Display', serif;
      --font-sans: 'Inter', sans-serif;
      --color-bg: #000;
      --color-text: #f8f8f8;
      --color-muted: #a7a7a7;
      --color-link: #dddddd;
      --max-width: 1200px;
      --padding-horizontal: 2rem;
    }
    * { box-sizing: border-box; }
    body {
      margin: 0;
      padding: 0;
      background-color: var(--color-bg);
      color: var(--color-text);
      font-family: var(--font-sans);
      line-height: 1.6;
      overflow-x: hidden;
      position: relative;
      z-index: 1;
    }
    /* Subtle noise overlay */
    body::after {
      content: "";
      position: fixed;
      inset: 0;
      pointer-events: none;
      background-image: url('data:image/png;base64,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');
      opacity: 0.05;
      mix-blend-mode: overlay;
      z-index: 0;
    }
    /* Hero Section */
    #hero {
      position: relative;
      min-height: 100vh;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      text-align: center;
      padding: 2rem;
      background: var(--color-bg);
      overflow: hidden;
      z-index: 1;
    }
    #hero::before {
      content: "";
      position: absolute;
      inset: 0;
      /* Apply a slightly brighter and more dynamic blueprint background. The larger background size
         allows for a slow pan effect and the increased opacity makes the lines pop */
      background-image: url('img/hero-bg.png');
      background-size: 140% 140%;
      background-position: center;
      opacity: 0.45;
      z-index: -1;
      animation: heroPan 45s ease-in-out infinite alternate;
    }
    @keyframes heroPan {
      0% { transform: translateY(0) scale(1); }
      100% { transform: translateY(-10%) scale(1.1); }
    }
    #hero h1 {
      font-size: 3.5rem;
      margin: 0.2rem 0;
      font-family: var(--font-serif);
      font-weight: 600;
    }
    #hero h2 {
      font-size: 1.4rem;
      margin: 0.5rem 0 1.5rem;
      font-weight: 400;
      font-style: italic;
      letter-spacing: 0.05em;
    }
    #hero .hero-description {
      max-width: 50rem;
      margin: 0 auto 0.5rem;
      font-size: 1rem;
      color: var(--color-muted);
    }
    #hero .scroll-down {
      display: inline-block;
      margin-top: 2rem;
      font-size: 2rem;
      color: var(--color-text);
      text-decoration: none;
      transition: transform 0.3s ease;
    }
    #hero .scroll-down:hover { transform: translateY(5px); }
    /* Projects Section */
    #projects {
      /* Allow the portfolio sections to span the full width of the page. Remove the fixed
         max‑width and centred margin so content aligns flush with the viewport similar to
         the Steven Mengin site. Side padding is retained for breathing room. */
      width: 100%;
      max-width: none;
      margin: 0;
      padding: 4rem var(--padding-horizontal);
      position: relative;
      z-index: 1;
    }
    .project {
      margin-bottom: 5rem;
      display: grid;
      grid-template-columns: 120px 1fr;
      grid-template-rows: auto auto;
      grid-template-areas:
        "left right"
        "desc desc";
      gap: 2rem;
      opacity: 0;
      transform: translateY(80px);
      transition: opacity 0.8s ease, transform 0.8s ease;
    }
    .project.in-view {
      opacity: 1;
      transform: translateY(0);
    }
    .project-left {
      grid-area: left;
      display: flex;
      flex-direction: column;
      justify-content: flex-start;
      align-items: flex-start;
      writing-mode: vertical-rl;
      transform: rotate(180deg);
      text-align: right;
    }
    .project-left .project-year {
      font-size: 0.8rem;
      font-weight: 300;
      /* Increase opacity on the year label to improve contrast against the dark background */
      color: rgba(255, 255, 255, 0.6);
      margin-bottom: 0.5rem;
    }
    .project-left .project-title {
      font-family: var(--font-serif);
      font-size: 2.0rem;
      line-height: 1.1;
      margin: 0;
      text-transform: capitalize;
      /* Brighten the vertical section titles so they stand out */
      color: rgba(255, 255, 255, 0.8);
    }
    .project-left .project-subtitle {
      font-style: italic;
      font-size: 0.9rem;
      margin-top: 0.3rem;
      /* Lighten the subtitle for better legibility */
      color: rgba(255, 255, 255, 0.6);
    }
    .project-right {
      grid-area: right;
      position: relative;
      overflow: hidden;
    }
    .project-right img {
      width: 100%;
      height: 350px;
      object-fit: cover;
      object-position: center;
      border-radius: 0.3rem;
      transition: transform 0.3s ease;
      /* Lighten and increase contrast of the blueprint imagery to improve visibility */
      filter: brightness(1.2) contrast(1.1);
    }
    .project-description {
      grid-area: desc;
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 2rem;
      margin-top: 1rem;
    }
    .project-description p {
      margin: 0;
      font-size: 0.95rem;
      color: var(--color-text);
    }
    .project-meta {
      display: flex;
      flex-direction: column;
      font-size: 0.9rem;
      color: var(--color-muted);
    }
    .project-meta .project-role {
      margin-bottom: 1rem;
      font-weight: 600;
      color: var(--color-text);
    }
    .project-meta .project-links h5 {
      margin: 0 0 0.5rem;
      font-size: 0.9rem;
      font-weight: 600;
      color: var(--color-text);
    }
    .project-meta .project-links ul {
      list-style: none;
      padding: 0;
      margin: 0;
    }
    .project-meta .project-links li {
      margin-bottom: 0.4rem;
    }
    .project-meta .project-links a {
      color: var(--color-link);
      text-decoration: none;
      cursor: pointer;
    }
    .project-meta .project-links a:hover {
      text-decoration: underline;
    }
    /* Footer */
    footer {
      text-align: right;
      padding: 2rem var(--padding-horizontal);
      border-top: 1px solid rgba(255,255,255,0.05);
      position: relative;
      z-index: 1;
    }
    footer .about-link {
      color: var(--color-link);
      text-decoration: none;
      font-size: 1rem;
      transition: opacity 0.3s ease;
    }
    footer .about-link:hover { opacity: 0.7; }
    /* Responsive layout for small screens */
    @media (max-width: 768px) {
      #hero h1 { font-size: 2.5rem; }
      .project {
        grid-template-columns: 1fr;
        grid-template-rows: auto auto auto;
        grid-template-areas:
          "right"
          "left"
          "desc";
      }
      .project-left {
        writing-mode: horizontal-tb;
        transform: none;
        flex-direction: row;
        text-align: left;
        margin-bottom: 0.5rem;
      }
      .project-left .project-title { font-size: 1.8rem; }
      .project-right img { height: 250px; }
      .project-description { grid-template-columns: 1fr; }
    }
    /* Custom cursor elements */
    body.custom-cursor { cursor: none; }
    .cursor-ring, .cursor-dot {
      position: fixed;
      pointer-events: none;
      z-index: 10000;
      border-radius: 50%;
      transition: transform 0.15s ease-out, background-color 0.25s, opacity 0.4s;
    }
    .cursor-ring {
      width: 30px;
      height: 30px;
      border: 2px solid rgba(255,255,255,0.7);
      transform: translate(-50%, -50%) scale(1);
      background-color: transparent;
    }
    .cursor-dot {
      width: 6px;
      height: 6px;
      background-color: rgba(255,255,255,0.9);
      transform: translate(-50%, -50%);
    }
  </style>
</head>
<body>
  <!-- Hero Section -->
  <header id="hero">
    <div class="hero-content">
      <h1>Athenkosi Hlonyane</h1>
      <h2>Mechatronic Engineer | ECSA Candidate </h2>
      <p class="hero-description">A curated portfolio showcasing my academic achievements, professional experiences, technical projects, certificates, and skills.</p>
    </div>
    <a href="#projects" class="scroll-down" aria-label="Scroll down">&darr;</a>
  </header>

  <!-- Projects (Categories) Section -->
  <main id="projects">
    <!-- Content will be injected via JavaScript -->
    <noscript>Please enable JavaScript to view the content.</noscript>
  </main>

  <footer>
    <a href="about.html" class="about-link">About</a>
  </footer>

  <!-- Custom cursor elements -->
  <div class="cursor-ring" id="cursor-ring"></div>
  <div class="cursor-dot" id="cursor-dot"></div>

  <!-- Modal Overlay for documents -->
  <div id="doc-modal" role="dialog" aria-modal="true" aria-label="Document viewer" style="display:none; align-items:center; justify-content:center; position:fixed; inset:0; background:rgba(0,0,0,0.75); backdrop-filter: blur(2px); z-index:9999; padding:2rem;">
    <div class="panel" style="position:relative; width:min(1000px,92vw); height:80vh; border:1px solid rgba(255,255,255,0.08); background:rgba(20,20,20,0.8); border-radius:10px; box-shadow:0 10px 40px rgba(0,0,0,0.6); display:flex; flex-direction:column; overflow:hidden;">
      <div class="toolbar" style="display:flex; align-items:center; justify-content:space-between; padding:0.6rem 0.9rem; border-bottom:1px solid rgba(255,255,255,0.08); color:var(--color-muted); font-size:0.9rem;">
        <span id="doc-title">Document</span>
        <button class="close-btn" id="doc-close" aria-label="Close" style="appearance:none; border:none; background:transparent; color:var(--color-text); font-size:1.2rem; cursor:pointer; padding:0.2rem 0.4rem; line-height:1;">&times;</button>
      </div>
      <iframe id="doc-frame" title="Document viewer" style="display:none; width:100%; height:100%; border:0; background:#111;"></iframe>
      <div id="pdf-container" style="display:none; width:100%; height:100%; overflow:auto; padding:0.75rem 1rem; background:#111;"></div>
      <div id="md-container" style="display:none; padding:1rem 1.25rem; overflow:auto; color:var(--color-text); font-family:var(--font-sans);"></div>
    </div>
  </div>

  <script>
    // Category data representing portfolio sections
    const projects = [
      {
        year: "2025",
        title: "Curriculum Vitae",
        subtitle: "Latest CV & Variants",
        image: "img/cv.png",
        description: "Explore my current CV and role-focused variants tailored for different engineering roles.",
        role: "Category — CV",
        links: [
          { name: "Main CV", url: "https://raw.githubusercontent.com/Athi-tronics/Portfolio/main/cv/CV_AHlonyane_2025_Main.pdf" },
          { name: "Instrumentation CV", url: "https://raw.githubusercontent.com/Athi-tronics/Portfolio/main/cv/variants/CV_2025_Instrumentation.pdf" },
          { name: "Plant ME&I Project CV", url: "https://raw.githubusercontent.com/Athi-tronics/Portfolio/main/cv/variants/CV_2025_Plant_MEI_Project.pdf" },
          { name: "Automation CV", url: "https://raw.githubusercontent.com/Athi-tronics/Portfolio/main/cv/variants/CV_2025_Automation_Control.pdf" }
        ]
      },
      {
        year: "2024",
        title: "Education",
        subtitle: "Academic Qualifications",
        image: "img/education.png",
        description: "Details of my academic journey and qualifications from various universities.",
        role: "Category — Education",
        links: [
          { name: "Stellenbosch University — BEng Mechatronic", url: "https://raw.githubusercontent.com/Athi-tronics/Portfolio/main/education/tertiary/stellenbosch/2023_SU_BEng_Mechatronic.pdf" },
          { name: "Technische Universität München — Exchange", url: "https://raw.githubusercontent.com/Athi-tronics/Portfolio/main/education/tertiary/tum/2021_TUM_Exchange_Certificate.pdf" },
          { name: "University of Pretoria — BEng (Hons) Electronic", url: "https://raw.githubusercontent.com/Athi-tronics/Portfolio/main/education/tertiary/up/2025_UP_BEngHons_APC_Registration.pdf" },
          { name: "Secondary School Records", url: "https://raw.githubusercontent.com/Athi-tronics/Portfolio/main/education/secondary/2017_NSC_Certificate.pdf" }
        ]
      },
      {
        year: "2025",
        title: "Experience",
        subtitle: "Professional Experience",
        image: "img/experience.png",
        description: "Highlights of my professional work experiences and internships in engineering roles.",
        role: "Category — Experience",
        links: [
          { name: "Glencore Artisan (Specialist) 2025", url: "https://raw.githubusercontent.com/Athi-tronics/Portfolio/main/experience/glencore-artisan-2025/README.md" },
          { name: "Glencore Engineer-in-Training 2024", url: "https://raw.githubusercontent.com/Athi-tronics/Portfolio/main/experience/glencore-eit-2024/README.md" },
          { name: "Glencore Instrumentation Vacation 2022", url: "https://raw.githubusercontent.com/Athi-tronics/Portfolio/main/experience/glencore-vac/2022_Glencore_Vacation_Certificate.pdf" },
          { name: "VWSA Assembly Maintenance 2023", url: "https://raw.githubusercontent.com/Athi-tronics/Portfolio/main/experience/vwsa-vac/2023_VWSA_Vac_Training_441-1.pdf" },
          { name: "VWSA Mechatronics Engineer 2019", url: "https://raw.githubusercontent.com/Athi-tronics/Portfolio/main/experience/vwsa-vac/2019_VWSA_Vac_Training_341.jpg" }
        ]
      },
      {
        year: "2024",
        title: "Projects",
        subtitle: "Technical Projects",
        image: "img/projects.png",
        description: "A showcase of my technical and academic projects, including control systems and final year capstone.",
        role: "Category — Projects",
        links: [
          { name: "Charge-chute Fans Control", url: "https://raw.githubusercontent.com/Athi-tronics/Portfolio/main/projects/charge-chute-fans/presentations/Athenkosi_Hlonyane_Project_Presentation.pdf" },
          { name: "Final Year Project (FYP)", url: "https://raw.githubusercontent.com/Athi-tronics/Portfolio/main/projects/fyp-capstone-project/reports/21879168_A_Hlonyane_December.pdf" }
        ]
      },
      {
        year: "2024",
        title: "Certificates",
        subtitle: "Professional Courses",
        image: "img/certificates.png",
        description: "List of professional courses and certificates I have completed, demonstrating continuous learning.",
        role: "Category — Certificates",
        links: [
          { name: "IO-Link Certificate", url: "https://raw.githubusercontent.com/Athi-tronics/Portfolio/main/certificates/io-link/2024_IO-Link_IIoT_Certificate.pdf" },
          { name: "Predictive Maintenance", url: "https://raw.githubusercontent.com/Athi-tronics/Portfolio/main/certificates/predictive/2024_Predictive_Maintenance_Certificate.pdf" },
          { name: "IoT Introduction", url: "https://raw.githubusercontent.com/Athi-tronics/Portfolio/main/certificates/iot-intro/2024_IoT_Intro_Certificate.pdf" }
        ]
      },
      {
        year: "2024",
        title: "Skills",
        subtitle: "Skillset & Evidence",
        image: "img/skills.png",
        description: "My core technical skills and evidence linking to corresponding projects and experiences.",
        role: "Category — Skills",
        links: [
          { name: "Automation & Control", url: "https://github.com/Athi-tronics/Portfolio/blob/main/skills/README.md#automation--control" },
          { name: "Instrumentation", url: "https://github.com/Athi-tronics/Portfolio/blob/main/skills/README.md#instrumentation" },
          { name: "Projects & Governance", url: "https://github.com/Athi-tronics/Portfolio/blob/main/skills/README.md#projects--governance" }
        ]
      }
    ];

    // Determine the base path for GitHub Pages (e.g., '/Portfolio/')
    const PAGES_BASE = (() => {
      const { origin, pathname } = new URL(document.baseURI);
      const parts = pathname.split('/').filter(Boolean);
      const base = parts.length ? `/${parts[0]}/` : '/';
      return origin + base;
    })();

    document.addEventListener('DOMContentLoaded', () => {
      // Smooth scroll for arrow
      const scrollLink = document.querySelector('#hero .scroll-down');
      if (scrollLink) {
        scrollLink.addEventListener('click', (e) => {
          e.preventDefault();
          const target = document.querySelector('#projects');
          if (target) target.scrollIntoView({ behavior: 'smooth' });
        });
      }

      // Render category cards
      const container = document.getElementById('projects');
      container.innerHTML = '';
      projects.forEach((proj) => {
        const article = document.createElement('article');
        article.className = 'project';

        // Left column: vertical title
        const left = document.createElement('div');
        left.className = 'project-left';
        const yearSpan = document.createElement('span');
        yearSpan.className = 'project-year';
        yearSpan.textContent = proj.year;
        const titleEl = document.createElement('h3');
        titleEl.className = 'project-title';
        titleEl.textContent = proj.title;
        const subEl = document.createElement('h4');
        subEl.className = 'project-subtitle';
        subEl.textContent = proj.subtitle || '';
        left.appendChild(yearSpan);
        left.appendChild(titleEl);
        left.appendChild(subEl);

        // Right column: image
        const right = document.createElement('div');
        right.className = 'project-right';
        const img = document.createElement('img');
        img.src = proj.image;
        img.alt = proj.title;
        right.appendChild(img);

        // Description row
        const desc = document.createElement('div');
        desc.className = 'project-description';
        const descText = document.createElement('p');
        descText.textContent = proj.description;
        const meta = document.createElement('div');
        meta.className = 'project-meta';
        const roleDiv = document.createElement('div');
        roleDiv.className = 'project-role';
        roleDiv.textContent = proj.role;
        const linksDiv = document.createElement('div');
        linksDiv.className = 'project-links';
        const linksTitle = document.createElement('h5');
        linksTitle.textContent = 'Links';
        linksDiv.appendChild(linksTitle);
        const ul = document.createElement('ul');
        (proj.links || []).forEach((item) => {
          const li = document.createElement('li');
          const a = document.createElement('a');
          a.href = item.url;
          a.textContent = item.name;
          a.addEventListener('click', (e) => {
            e.preventDefault();
            openInOverlay(item.url, item.name);
          });
          li.appendChild(a);
          ul.appendChild(li);
        });
        linksDiv.appendChild(ul);
        meta.appendChild(roleDiv);
        meta.appendChild(linksDiv);
        desc.appendChild(descText);
        desc.appendChild(meta);

        article.appendChild(left);
        article.appendChild(right);
        article.appendChild(desc);
        container.appendChild(article);
      });

      // Observe projects for scroll animations
      const observer = new IntersectionObserver((entries, obs) => {
        entries.forEach(entry => {
          if (entry.isIntersecting) {
            entry.target.classList.add('in-view');
            obs.unobserve(entry.target);
          }
        });
      }, { threshold: 0.1 });
      document.querySelectorAll('.project').forEach(proj => observer.observe(proj));

      // Parallax effect for images
      const parallaxImages = document.querySelectorAll('.project-right img');
      window.addEventListener('scroll', () => {
        parallaxImages.forEach(img => {
          const rect = img.getBoundingClientRect();
          const offset = rect.top / window.innerHeight;
          img.style.transform = `translateY(${offset * -20}px)`;
        });
      });

      // Setup custom cursor hover interactions after links loaded
      setupCursorHover();
    });

    // Document modal helpers
    const modal = document.getElementById('doc-modal');
    const docTitleEl = document.getElementById('doc-title');
    const closeBtn = document.getElementById('doc-close');
    const frame = document.getElementById('doc-frame');
    const pdfContainer = document.getElementById('pdf-container');
    const mdContainer = document.getElementById('md-container');

    function closeOverlay() {
      modal.style.display = 'none';
      frame.src = '';
      pdfContainer.innerHTML = '';
      mdContainer.innerHTML = '';
      frame.style.display = 'none';
      pdfContainer.style.display = 'none';
      mdContainer.style.display = 'none';
    }
    closeBtn.addEventListener('click', closeOverlay);
    modal.addEventListener('click', (e) => { if (e.target === modal) closeOverlay(); });

    async function openInOverlay(rawUrl, title = 'Document') {
      docTitleEl.textContent = title;
      const url = normalizeUrl(rawUrl);
      const lower = url.toLowerCase();
      // PDFs: use same-origin path if available, else render via PDF.js
      if (lower.endsWith('.pdf')) {
        const pagesUrl = pagesUrlFromGithub(url);
        if (pagesUrl && await existsSameOrigin(pagesUrl)) {
          showIframe(pagesUrl);
          return;
        }
        renderPdfWithPdfJs(url);
        return;
      }
      // Markdown files
      if (lower.endsWith('.md')) {
        try {
          const md = await fetchMarkdown(url);
          mdContainer.innerHTML = renderMarkdown(md);
          mdContainer.style.display = 'block';
          frame.style.display = 'none';
          pdfContainer.style.display = 'none';
          modal.style.display = 'flex';
        } catch {
          window.open(url, '_blank', 'noopener');
        }
        return;
      }
      // Fallback to new tab
      window.open(url, '_blank', 'noopener');
    }

    function showIframe(src) {
      mdContainer.style.display = 'none';
      pdfContainer.style.display = 'none';
      frame.src = src;
      frame.style.display = 'block';
      modal.style.display = 'flex';
    }

    async function existsSameOrigin(pagesUrl) {
      try {
        const res = await fetch(pagesUrl, { method: 'HEAD' });
        return res.ok;
      } catch { return false; }
    }

    function pagesUrlFromGithub(u) {
      try {
        const url = new URL(u);
        if (url.hostname === 'raw.githubusercontent.com') {
          const parts = url.pathname.split('/').filter(Boolean);
          if (parts[0] === 'Athi-tronics' && parts[1] === 'Portfolio' && parts[2] === 'main') {
            const rest = parts.slice(3).join('/');
            return PAGES_BASE + rest;
          }
        }
        if (url.hostname === 'github.com' && url.pathname.includes('/blob/')) {
          const rest = url.pathname.split('/blob/')[1].split('/').slice(1).join('/');
          return PAGES_BASE + rest;
        }
      } catch {}
      return null;
    }

    function normalizeUrl(u) {
      try {
        const url = new URL(u);
        if (url.hostname === 'github.com' && url.pathname.includes('/blob/')) {
          return u.replace('github.com', 'raw.githubusercontent.com').replace('/blob/', '/');
        }
      } catch {}
      return u;
    }

    // PDF.js fallback
    async function renderPdfWithPdfJs(pdfUrl) {
      try {
        const loadingTask = pdfjsLib.getDocument(pdfUrl);
        const pdf = await loadingTask.promise;
        pdfContainer.innerHTML = '';
        mdContainer.style.display = 'none';
        frame.style.display = 'none';
        pdfContainer.style.display = 'block';
        modal.style.display = 'flex';
        const viewportScale = 1.2;
        for (let pageNum = 1; pageNum <= pdf.numPages; pageNum++) {
          const page = await pdf.getPage(pageNum);
          const viewport = page.getViewport({ scale: viewportScale });
          const canvas = document.createElement('canvas');
          const context = canvas.getContext('2d');
          canvas.width = viewport.width;
          canvas.height = viewport.height;
          await page.render({ canvasContext: context, viewport }).promise;
          pdfContainer.appendChild(canvas);
        }
      } catch (e) {
        window.open(pdfUrl, '_blank', 'noopener');
      }
    }

    function fetchMarkdown(u) { return fetch(u).then(r => r.ok ? r.text() : Promise.reject()); }
    function renderMarkdown(src) {
      const esc = s => s.replace(/[&<>"']/g, m => ({
        '&': '&amp;',
        '<': '&lt;',
        '>': '&gt;',
        '"': '&quot;',
        "'": '&#39;'
      })[m]);
      let html = esc(src);
      html = html.replace(/^### (.*)$/gmi, '<h3>$1</h3>')
                 .replace(/^## (.*)$/gmi, '<h2>$1</h2>')
                 .replace(/^# (.*)$/gmi, '<h1>$1</h1>')
                 .replace(/\*\*(.+?)\*\*/g, '<strong>$1</strong>')
                 .replace(/\*(.+?)\*/g, '<em>$1</em>')
                 .replace(/\[([^\]]+)\]\(([^\)]+)\)/g, (_m, t, u) => `<a href="${u}" target="_blank" rel="noopener">${t}</a>`)
                 .replace(/^(?:- |\* )(.*)$/gmi, '<li>$1</li>')
                 .replace(/(?:<li>[\s\S]*?<\/li>\n?)+/g, m => `<ul>${m}</ul>`)
                 .replace(/(?:^|\n)([^\n<][^\n]*)/g, (_m, p) => `<p>${p}</p>`);
      return html;
    }

    // Custom cursor logic
    document.body.classList.add('custom-cursor');
    const ring = document.getElementById('cursor-ring');
    const dot = document.getElementById('cursor-dot');
    document.addEventListener('mousemove', (e) => {
      ring.style.left = `${e.clientX}px`;
      ring.style.top = `${e.clientY}px`;
      dot.style.left = `${e.clientX}px`;
      dot.style.top = `${e.clientY}px`;
    });
    document.addEventListener('mousedown', () => {
      ring.style.transform = 'translate(-50%, -50%) scale(0.8)';
      dot.style.transform = 'translate(-50%, -50%) scale(0.8)';
    });
    document.addEventListener('mouseup', () => {
      ring.style.transform = 'translate(-50%, -50%) scale(1)';
      dot.style.transform = 'translate(-50%, -50%) scale(1)';
    });
    function setupCursorHover() {
      document.querySelectorAll('a, button').forEach((el) => {
        el.addEventListener('mouseenter', () => {
          ring.style.transform = 'translate(-50%, -50%) scale(1.5)';
          ring.style.backgroundColor = 'rgba(255,255,255,0.25)';
        });
        el.addEventListener('mouseleave', () => {
          ring.style.transform = 'translate(-50%, -50%) scale(1)';
          ring.style.backgroundColor = 'transparent';
        });
      });
    }
  </script>
  <!-- PDF.js library -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/pdf.js/3.11.174/pdf.min.js" defer></script>
  <script>
    window.addEventListener('load', () => {
      if (window['pdfjsLib']) {
        pdfjsLib.GlobalWorkerOptions.workerSrc = 'https://cdnjs.cloudflare.com/ajax/libs/pdf.js/3.11.174/pdf.worker.min.js';
      }
    });
  </script>
</body>
</html>
